__NUXT_JSONP__("/getting-started/migration", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ){return {data:[{page:{key:"content:1.getting-started:6.migration.md",generatedAt:new Date(1642067217422),mtime:new Date(1642067217409),slug:M,title:N,position:"000100060000",to:"\u002Fgetting-started\u002Fmigration",draft:w,page:x,language:"en",empty:w,description:O,excerpt:P,body:{raw:"# Migration\n\nNuxt 3 migration guide. Work in progress üöß\n\n## Nuxt 2 to Nuxt 3\n\nAt the moment, there is no Nuxt 2 to Nuxt 3 migration guide nor is it recommended due to potentially more changes coming.\nWe are working to provide a stable migration guide and tooling to make it as smooth as possible. Please check [Bridge](\u002Fgetting-started\u002Fbridge) for the alternative.\n\nSome features have been dropped from Nuxt 2, some are yet to be implemented for Nuxt 3 and some are new in Nuxt 3 (and Bridge).\n\nNoticeable and\u002For breaking changes for Nuxt 3 other than the requirements of Nuxt Bridge are:\n\n::list{type=warning}\n\n- Vue app templates are rewritten\n- Vue upgraded to `3.x`\n- Using `\u003CSuspense\u003E` for async data fetching\n- Webpack `5.x` (if not using `vite`)\n- Components discovery is rewritten\n- Introduced main [`app.vue` component](\u002Fdocs\u002Fdirectory-structure\u002Fapp)\n- Introduced new [`layouts` system](\u002Fdocs\u002Fdirectory-structure\u002Flayouts)\n- The [`pages\u002F` directory](\u002Fdocs\u002Fdirectory-structure\u002Fpages) conventions changed\n::\n\nThe below table highlights an overall feature comparison:\n\nFeature \u002F Version         | Nuxt 2  | Nuxt 3   | Changes required\n--------------------------|---------|----------|------------------\nVue Version               | 2       | 3        | Yes\n`app.vue`                 | ‚ùå      | ‚úÖ        | -\nAssets                    | ‚úÖ      | ‚úÖ        | No\nComponents                | ‚úÖ      | ‚úÖ        | No\nLayouts                   | ‚úÖ      | ‚úÖ        | Yes\nError Pages               | ‚úÖ      | üöß        | Yes\nPages                     | ‚úÖ      | ‚úÖ        | Yes\nPages: Dynamic Params     | ‚úÖ      | ‚úÖ        | Yes\nPages: _.vue              | ‚úÖ      | ‚úÖ        | No\nPlugins                   | ‚úÖ      | ‚úÖ        | Yes (compatible by default)\nStore                     | ‚úÖ      | üöß        | Yes\nTransitions               | ‚úÖ      | üöß        | ?\nSuspense                  | ‚ùå      | ‚úÖ        | -\nOptions API: `asyncData`  | ‚úÖ      | üöß        | ?\nOptions API: `fetch`      | ‚úÖ      | üöß        | ?\n\n### Module Compatibility\n\nAll Nuxt 2 modules should be forward compatible with Nuxt 3 as long as they migrate to bridge or if they are already following guidelines.\n\nAll (upcoming) modules made with `@nuxt\u002Fkit` should be backward compatible with Nuxt 2 projects (even without bridge) as long as they are not depending on a Nuxt 3 \u002F Bridge-only feature.\n\n### Plugin Compatibility\n\nMost Nuxt 2 plugins should be forward compatible with Nuxt 3 with a magical compat layer we inject.\n\nNuxt 3 plugins are **not** backward compatible with Nuxt 2.\n\n### Vue Compatibility\n\nFor plugins using composition API or components, it needs exclusive Vue 2 or Vue 3 support.\n\nBy using [vue-demi](https:\u002F\u002Fgithub.com\u002Fvueuse\u002Fvue-demi) they should be compatible with both Nuxt 2 and 3.\n\n## Module Migration\n\nWhen Nuxt 3 users add your module, a compatible module container layer from `@nuxt\u002Fkit` is **automatically injected**, so as long as your code is following the guidelines below, it should continue working as-is.\n\n### Test with `@nuxt\u002Fbridge`\n\nMigrating to `@nuxt\u002Fbridge` is the first and most important step for supporting Nuxt 3.\n\nIf you have a fixture or example in your module, add `@nuxt\u002Fbridge` package to its config (see [example](\u002Fgetting-started\u002Fbridge#update-nuxtconfig))\n\n### Migrate from CommonJS to ESM\n\nNuxt 3 natively supports TypeScript and ECMAScript Modules. Please check [Native ES Modules](\u002Fconcepts\u002Fesm) for more info and upgrading.\n\n### Ensure plugins default export\n\nIf you inject a Nuxt plugin that does not have `export default` (such as global Vue plugins), ensure you add `export default () =\u003E { }` to the end of it.\n\n::code-group\n\n```js [Before]\n\u002F\u002F ~\u002Fplugins\u002Fvuelidate.js\nimport Vue from 'vue'\nimport Vuelidate from 'vuelidate'\n\nVue.use(Vuelidate)\n```\n\n```js [After]\n\u002F\u002F ~\u002Fplugins\u002Fvuelidate.js\nimport Vue from 'vue'\nimport Vuelidate from 'vuelidate'\n\nVue.use(Vuelidate)\n\nexport default () =\u003E { }\n```\n\n::\n\n### Avoid runtime modules\n\nWith Nuxt 3, Nuxt is now a build-time-only dependency, which means that modules shouldn't attempt to hook into the Nuxt runtime.\n\nYour module needs should work even if it's only added to [`buildModules`](\u002Fdocs\u002Fdirectory-structure\u002Fnuxt.config#buildmodules) (instead of `modules`). For example:\n\n- Avoid updating `process.env` within a Nuxt module and reading by a nuxt plugin; use [`runtimeConfig`](\u002Fdocs\u002Fdirectory-structure\u002Fnuxt.config#publicruntimeconfig) instead.\n- (*) Avoid depending on runtime hooks like `vue-renderer:*` for production\n- (*) Avoid adding `serverMiddleware` by importing them inside the module. Instead, add them by referencing a file path so that they are independent of the module's context\n\n(*) Unless it is for `nuxt dev` purpose only and guarded with `if (nuxt.options.dev) { }`.\n\n### Add module meta\n\nEnsure your module is exporting meta object.\n\n\\[TODO\\]\n\n### Use TypeScript (optional)\n\nWhile it is not essential, most of the Nuxt ecosystem is shifting to use TypeScript, so it is highly recommended to consider migration.\n\n::alert{icon=üí°}\nYou can start migration by simply renaming `.js` files, to `.ts`. TypeScript is designed to be progressive!\n::\n\n::alert{icon=üí°}\nYou can use TypeScript syntax for Nuxt 2 and 3 modules and plugins without any extra dependencies.\n::\n",ast:{type:"root",children:[{type:b,tag:"prose-h1",props:{class:"d-heading-title",id:M},children:[{type:a,value:N}]},{type:a,value:c},{type:b,tag:h,props:{class:"d-heading-description"},children:[{type:a,value:O}]},{type:a,value:c},{type:b,tag:Q,props:{id:R},children:[{type:b,tag:j,props:{href:"#nuxt-2-to-nuxt-3"},children:[{type:a,value:S}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"At the moment, there is no Nuxt 2 to Nuxt 3 migration guide nor is it recommended due to potentially more changes coming.\nWe are working to provide a stable migration guide and tooling to make it as smooth as possible. Please check "},{type:b,tag:j,props:{href:"\u002Fgetting-started\u002Fbridge"},children:[{type:a,value:"Bridge"}]},{type:a,value:" for the alternative."}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"Some features have been dropped from Nuxt 2, some are yet to be implemented for Nuxt 3 and some are new in Nuxt 3 (and Bridge)."}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"Noticeable and\u002For breaking changes for Nuxt 3 other than the requirements of Nuxt Bridge are:"}]},{type:a,value:c},{type:b,tag:"list",props:{type:"warning"},children:[{type:b,tag:T,props:{},children:[{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:a,value:"Vue app templates are rewritten"},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:a,value:"Vue upgraded to "},{type:b,tag:g,props:{},children:[{type:a,value:"3.x"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:a,value:"Using "},{type:b,tag:g,props:{},children:[{type:a,value:"\u003CSuspense\u003E"}]},{type:a,value:" for async data fetching"},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:a,value:"Webpack "},{type:b,tag:g,props:{},children:[{type:a,value:"5.x"}]},{type:a,value:" (if not using "},{type:b,tag:g,props:{},children:[{type:a,value:"vite"}]},{type:a,value:u},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:a,value:"Components discovery is rewritten"},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:a,value:"Introduced main "},{type:b,tag:j,props:{href:"\u002Fdocs\u002Fdirectory-structure\u002Fapp"},children:[{type:b,tag:g,props:{},children:[{type:a,value:U}]},{type:a,value:" component"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:a,value:"Introduced new "},{type:b,tag:j,props:{href:"\u002Fdocs\u002Fdirectory-structure\u002Flayouts"},children:[{type:b,tag:g,props:{},children:[{type:a,value:"layouts"}]},{type:a,value:" system"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:a,value:"The "},{type:b,tag:j,props:{href:"\u002Fdocs\u002Fdirectory-structure\u002Fpages"},children:[{type:b,tag:g,props:{},children:[{type:a,value:"pages\u002F"}]},{type:a,value:" directory"}]},{type:a,value:" conventions changed"},{type:a,value:c}]},{type:a,value:c}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"The below table highlights an overall feature comparison:"}]},{type:a,value:c},{type:b,tag:"prose-table",props:{},children:[{type:a,value:c},{type:b,tag:"prose-thead",props:{},children:[{type:a,value:c},{type:b,tag:l,props:{},children:[{type:a,value:c},{type:b,tag:y,props:{},children:[{type:a,value:"Feature \u002F Version"}]},{type:a,value:c},{type:b,tag:y,props:{},children:[{type:a,value:"Nuxt 2"}]},{type:a,value:c},{type:b,tag:y,props:{},children:[{type:a,value:"Nuxt 3"}]},{type:a,value:c},{type:b,tag:y,props:{},children:[{type:a,value:"Changes required"}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:"prose-tbody",props:{},children:[{type:a,value:c},{type:b,tag:l,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Vue Version"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"2"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"3"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:t}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:l,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:U}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:V}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:W}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:l,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Assets"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:G}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:l,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Components"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:G}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:l,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Layouts"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:t}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:l,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Error Pages"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:v}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:t}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:l,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Pages"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:t}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:l,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Pages: Dynamic Params"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:t}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:l,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Pages: _.vue"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:G}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:l,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Plugins"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Yes (compatible by default)"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:l,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Store"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:v}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:t}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:l,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Transitions"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:v}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:H}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:l,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Suspense"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:V}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:W}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:l,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:X},{type:b,tag:g,props:{},children:[{type:a,value:"asyncData"}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:v}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:H}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:l,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:X},{type:b,tag:g,props:{},children:[{type:a,value:"fetch"}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:i}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:v}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:H}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{id:Y},children:[{type:b,tag:j,props:{href:"#module-compatibility"},children:[{type:a,value:Z}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"All Nuxt 2 modules should be forward compatible with Nuxt 3 as long as they migrate to bridge or if they are already following guidelines."}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"All (upcoming) modules made with "},{type:b,tag:g,props:{},children:[{type:a,value:_}]},{type:a,value:" should be backward compatible with Nuxt 2 projects (even without bridge) as long as they are not depending on a Nuxt 3 \u002F Bridge-only feature."}]},{type:a,value:c},{type:b,tag:q,props:{id:$},children:[{type:b,tag:j,props:{href:"#plugin-compatibility"},children:[{type:a,value:aa}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"Most Nuxt 2 plugins should be forward compatible with Nuxt 3 with a magical compat layer we inject."}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"Nuxt 3 plugins are "},{type:b,tag:ab,props:{},children:[{type:a,value:"not"}]},{type:a,value:" backward compatible with Nuxt 2."}]},{type:a,value:c},{type:b,tag:q,props:{id:ac},children:[{type:b,tag:j,props:{href:"#vue-compatibility"},children:[{type:a,value:ad}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"For plugins using composition API or components, it needs exclusive Vue 2 or Vue 3 support."}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"By using "},{type:b,tag:j,props:{href:"https:\u002F\u002Fgithub.com\u002Fvueuse\u002Fvue-demi",rel:["nofollow","noopener","noreferrer"],target:"_blank"},children:[{type:a,value:"vue-demi"}]},{type:a,value:" they should be compatible with both Nuxt 2 and 3."}]},{type:a,value:c},{type:b,tag:Q,props:{id:ae},children:[{type:b,tag:j,props:{href:"#module-migration"},children:[{type:a,value:af}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"When Nuxt 3 users add your module, a compatible module container layer from "},{type:b,tag:g,props:{},children:[{type:a,value:_}]},{type:a,value:" is "},{type:b,tag:ab,props:{},children:[{type:a,value:"automatically injected"}]},{type:a,value:", so as long as your code is following the guidelines below, it should continue working as-is."}]},{type:a,value:c},{type:b,tag:q,props:{id:ag},children:[{type:b,tag:j,props:{href:"#test-with-nuxtbridge"},children:[{type:a,value:"Test with "},{type:b,tag:g,props:{},children:[{type:a,value:I}]}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"Migrating to "},{type:b,tag:g,props:{},children:[{type:a,value:I}]},{type:a,value:" is the first and most important step for supporting Nuxt 3."}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"If you have a fixture or example in your module, add "},{type:b,tag:g,props:{},children:[{type:a,value:I}]},{type:a,value:" package to its config (see "},{type:b,tag:j,props:{href:"\u002Fgetting-started\u002Fbridge#update-nuxtconfig"},children:[{type:a,value:"example"}]},{type:a,value:u}]},{type:a,value:c},{type:b,tag:q,props:{id:ah},children:[{type:b,tag:j,props:{href:"#migrate-from-commonjs-to-esm"},children:[{type:a,value:ai}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"Nuxt 3 natively supports TypeScript and ECMAScript Modules. Please check "},{type:b,tag:j,props:{href:"\u002Fconcepts\u002Fesm"},children:[{type:a,value:"Native ES Modules"}]},{type:a,value:" for more info and upgrading."}]},{type:a,value:c},{type:b,tag:q,props:{id:aj},children:[{type:b,tag:j,props:{href:"#ensure-plugins-default-export"},children:[{type:a,value:ak}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"If you inject a Nuxt plugin that does not have "},{type:b,tag:g,props:{},children:[{type:a,value:"export default"}]},{type:a,value:" (such as global Vue plugins), ensure you add "},{type:b,tag:g,props:{},children:[{type:a,value:"export default () =\u003E { }"}]},{type:a,value:" to the end of it."}]},{type:a,value:c},{type:b,tag:"code-group",props:{},children:[{type:b,tag:al,props:{},children:[{type:b,tag:e,props:{className:[am]},children:[{type:a,value:"Before"}]},{type:b,tag:an,props:{className:[ao,ap]},children:[{type:b,tag:aq,props:{},children:[{type:b,tag:e,props:{className:[f,ar]},children:[{type:a,value:as}]},{type:a,value:c},{type:b,tag:e,props:{className:[f,n,o]},children:[{type:a,value:z}]},{type:a,value:k},{type:b,tag:e,props:{className:[f,A]},children:[{type:b,tag:e,props:{className:[f,s]},children:[{type:a,value:B}]}]},{type:a,value:k},{type:b,tag:e,props:{className:[f,n,o]},children:[{type:a,value:C}]},{type:a,value:k},{type:b,tag:e,props:{className:[f,D]},children:[{type:a,value:at}]},{type:a,value:c},{type:b,tag:e,props:{className:[f,n,o]},children:[{type:a,value:z}]},{type:a,value:k},{type:b,tag:e,props:{className:[f,A]},children:[{type:b,tag:e,props:{className:[f,s]},children:[{type:a,value:E}]}]},{type:a,value:k},{type:b,tag:e,props:{className:[f,n,o]},children:[{type:a,value:C}]},{type:a,value:k},{type:b,tag:e,props:{className:[f,D]},children:[{type:a,value:au}]},{type:a,value:J},{type:b,tag:e,props:{className:[f,s]},children:[{type:a,value:B}]},{type:b,tag:e,props:{className:[f,p]},children:[{type:a,value:K}]},{type:b,tag:e,props:{className:[f,av,aw,ax]},children:[{type:a,value:ay}]},{type:b,tag:e,props:{className:[f,p]},children:[{type:a,value:L}]},{type:b,tag:e,props:{className:[f,s]},children:[{type:a,value:E}]},{type:b,tag:e,props:{className:[f,p]},children:[{type:a,value:u}]},{type:a,value:c}]}]}]},{type:b,tag:al,props:{},children:[{type:b,tag:e,props:{className:[am]},children:[{type:a,value:"After"}]},{type:b,tag:an,props:{className:[ao,ap]},children:[{type:b,tag:aq,props:{},children:[{type:b,tag:e,props:{className:[f,ar]},children:[{type:a,value:as}]},{type:a,value:c},{type:b,tag:e,props:{className:[f,n,o]},children:[{type:a,value:z}]},{type:a,value:k},{type:b,tag:e,props:{className:[f,A]},children:[{type:b,tag:e,props:{className:[f,s]},children:[{type:a,value:B}]}]},{type:a,value:k},{type:b,tag:e,props:{className:[f,n,o]},children:[{type:a,value:C}]},{type:a,value:k},{type:b,tag:e,props:{className:[f,D]},children:[{type:a,value:at}]},{type:a,value:c},{type:b,tag:e,props:{className:[f,n,o]},children:[{type:a,value:z}]},{type:a,value:k},{type:b,tag:e,props:{className:[f,A]},children:[{type:b,tag:e,props:{className:[f,s]},children:[{type:a,value:E}]}]},{type:a,value:k},{type:b,tag:e,props:{className:[f,n,o]},children:[{type:a,value:C}]},{type:a,value:k},{type:b,tag:e,props:{className:[f,D]},children:[{type:a,value:au}]},{type:a,value:J},{type:b,tag:e,props:{className:[f,s]},children:[{type:a,value:B}]},{type:b,tag:e,props:{className:[f,p]},children:[{type:a,value:K}]},{type:b,tag:e,props:{className:[f,av,aw,ax]},children:[{type:a,value:ay}]},{type:b,tag:e,props:{className:[f,p]},children:[{type:a,value:L}]},{type:b,tag:e,props:{className:[f,s]},children:[{type:a,value:E}]},{type:b,tag:e,props:{className:[f,p]},children:[{type:a,value:u}]},{type:a,value:J},{type:b,tag:e,props:{className:[f,n,o]},children:[{type:a,value:"export"}]},{type:a,value:k},{type:b,tag:e,props:{className:[f,n,o]},children:[{type:a,value:"default"}]},{type:a,value:k},{type:b,tag:e,props:{className:[f,p]},children:[{type:a,value:L}]},{type:b,tag:e,props:{className:[f,p]},children:[{type:a,value:u}]},{type:a,value:k},{type:b,tag:e,props:{className:[f,"arrow","operator"]},children:[{type:a,value:"=\u003E"}]},{type:a,value:k},{type:b,tag:e,props:{className:[f,p]},children:[{type:a,value:"{"}]},{type:a,value:k},{type:b,tag:e,props:{className:[f,p]},children:[{type:a,value:"}"}]},{type:a,value:c}]}]}]}]},{type:a,value:c},{type:b,tag:q,props:{id:az},children:[{type:b,tag:j,props:{href:"#avoid-runtime-modules"},children:[{type:a,value:aA}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"With Nuxt 3, Nuxt is now a build-time-only dependency, which means that modules shouldn't attempt to hook into the Nuxt runtime."}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"Your module needs should work even if it's only added to "},{type:b,tag:j,props:{href:"\u002Fdocs\u002Fdirectory-structure\u002Fnuxt.config#buildmodules"},children:[{type:b,tag:g,props:{},children:[{type:a,value:"buildModules"}]}]},{type:a,value:" (instead of "},{type:b,tag:g,props:{},children:[{type:a,value:"modules"}]},{type:a,value:"). For example:"}]},{type:a,value:c},{type:b,tag:T,props:{},children:[{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:a,value:"Avoid updating "},{type:b,tag:g,props:{},children:[{type:a,value:"process.env"}]},{type:a,value:" within a Nuxt module and reading by a nuxt plugin; use "},{type:b,tag:j,props:{href:"\u002Fdocs\u002Fdirectory-structure\u002Fnuxt.config#publicruntimeconfig"},children:[{type:b,tag:g,props:{},children:[{type:a,value:"runtimeConfig"}]}]},{type:a,value:" instead."},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:a,value:"(*) Avoid depending on runtime hooks like "},{type:b,tag:g,props:{},children:[{type:a,value:"vue-renderer:*"}]},{type:a,value:" for production"},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:c},{type:a,value:"(*) Avoid adding "},{type:b,tag:g,props:{},children:[{type:a,value:"serverMiddleware"}]},{type:a,value:" by importing them inside the module. Instead, add them by referencing a file path so that they are independent of the module's context"},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"(*) Unless it is for "},{type:b,tag:g,props:{},children:[{type:a,value:"nuxt dev"}]},{type:a,value:" purpose only and guarded with "},{type:b,tag:g,props:{},children:[{type:a,value:"if (nuxt.options.dev) { }"}]},{type:a,value:K}]},{type:a,value:c},{type:b,tag:q,props:{id:aB},children:[{type:b,tag:j,props:{href:"#add-module-meta"},children:[{type:a,value:aC}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"Ensure your module is exporting meta object."}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"[TODO]"}]},{type:a,value:c},{type:b,tag:q,props:{id:aD},children:[{type:b,tag:j,props:{href:"#use-typescript-optional"},children:[{type:a,value:aE}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"While it is not essential, most of the Nuxt ecosystem is shifting to use TypeScript, so it is highly recommended to consider migration."}]},{type:a,value:c},{type:b,tag:aF,props:{icon:aG},children:[{type:b,tag:h,props:{},children:[{type:a,value:"You can start migration by simply renaming "},{type:b,tag:g,props:{},children:[{type:a,value:".js"}]},{type:a,value:" files, to "},{type:b,tag:g,props:{},children:[{type:a,value:".ts"}]},{type:a,value:". TypeScript is designed to be progressive!"}]}]},{type:a,value:c},{type:b,tag:aF,props:{icon:aG},children:[{type:b,tag:h,props:{},children:[{type:a,value:"You can use TypeScript syntax for Nuxt 2 and 3 modules and plugins without any extra dependencies."}]}]}]},toc:{title:aH,searchDepth:F,depth:F,links:[{id:R,depth:F,text:S,children:[{id:Y,depth:r,text:Z},{id:$,depth:r,text:aa},{id:ac,depth:r,text:ad}]},{id:ae,depth:F,text:af,children:[{id:ag,depth:r,text:"Test with @nuxt\u002Fbridge"},{id:ah,depth:r,text:ai},{id:aj,depth:r,text:ak},{id:az,depth:r,text:aA},{id:aB,depth:r,text:aC},{id:aD,depth:r,text:aE}]}]}},template:aI},templateOptions:{header:x,footer:x,aside:x,asideClass:aH,fluid:w,banner:w},_img:{}}],fetch:{"0":{headerLinks:[{title:"Getting Started",to:"\u002Fgetting-started\u002Fintroduction"},{title:"Concepts",to:aJ},{title:aI,to:"\u002Fdocs\u002Fusage\u002Fdata-fetching"},{title:"Community",to:"\u002Fcommunity\u002Fgetting-help"}]},"1":{repoUrl:"https:\u002F\u002Fgithub.com\u002Fnuxt\u002Fframework",prev:{slug:"commands",to:"\u002Fgetting-started\u002Fcommands",title:"Commands"},next:{slug:"introduction",to:aJ,title:"What is Nuxt?"}},_lazyComponents:new Set(["ProseParagraph","ButtonLink","HomeHero","SectionContentItem","HomeFeatures","IconNuxtNitro","Headline","ProseStrong","ProseA","ProseCodeInline","NuxtContainer","IconNuxtBridge","ProseH3","ProseLi","ProseUl","List","ProseH1","ProseH2","Alert","ProseTh","ProseTr","ProseThead","ProseTd","ProseTbody","ProseTable","ProseEm","ProseCode","CodeGroup","ProseOl"])},mutations:P}}("text","element","\n","prose-td","span","token","prose-code-inline","prose-paragraph","‚úÖ","prose-a"," ","prose-tr","prose-li","keyword","module","punctuation","prose-h3",3,"maybe-class-name","Yes",")","üöß",false,true,"prose-th","import","imports","Vue","from","string","Vuelidate",2,"No","?","@nuxt\u002Fbridge","\n\n",".","(","migration","Migration","Nuxt 3 migration guide. Work in progress üöß",void 0,"prose-h2","nuxt-2-to-nuxt-3","Nuxt 2 to Nuxt 3","prose-ul","app.vue","‚ùå","-","Options API: ","module-compatibility","Module Compatibility","@nuxt\u002Fkit","plugin-compatibility","Plugin Compatibility","prose-strong","vue-compatibility","Vue Compatibility","module-migration","Module Migration","test-with-nuxtbridge","migrate-from-commonjs-to-esm","Migrate from CommonJS to ESM","ensure-plugins-default-export","Ensure plugins default export","prose-code","filename","pre","language-js","line-numbers","code","comment","\u002F\u002F ~\u002Fplugins\u002Fvuelidate.js","'vue'","'vuelidate'","method","function","property-access","use","avoid-runtime-modules","Avoid runtime modules","add-module-meta","Add module meta","use-typescript-optional","Use TypeScript (optional)","alert","üí°","","Docs","\u002Fconcepts\u002Fintroduction")));