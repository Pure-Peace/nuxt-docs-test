__NUXT_JSONP__("/docs/deployment/azure", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb){return {data:[{page:{key:"content:3.docs:3.deployment:1.azure.md",generatedAt:new Date(1642067218378),mtime:new Date(1642067218365),slug:U,title:ag,position:"000300030001",to:"\u002Fdocs\u002Fdeployment\u002Fazure",draft:I,page:J,language:"en",icon:"LogoAzure",empty:I,description:ah,excerpt:ai,body:{raw:"---\nicon: LogoAzure\n---\n\n# Azure\n\nHow to deploy Nuxt to Azure Static Web Apps or Azure Functions.\n\n## Azure Functions\n\n::list\n\n- Support for serverless SSR build\n- No configuration required\n- Static assets served from Azure Function\n::\n\n### Setup\n\n```ts [nuxt.config.js|ts]\nexport default {\n  nitro: {\n    preset: 'azure_functions'\n  }\n}\n```\n\n::alert\nIf you encounter any issues, please ensure you're using a Node.js 14+ runtime. You can find more information about [how to set the Node version in the Azure docs](https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Fazure\u002Fazure-functions\u002Ffunctions-reference-node?tabs=v2#setting-the-node-version).\n::\n\n### Local preview\n\nInstall [Azure Functions Core Tools](https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Fazure\u002Fazure-functions\u002Ffunctions-run-local) if you want to test locally.\n\nYou can invoke a development environment from the serverless directory.\n\n```bash\nNITRO_PRESET=azure_functions yarn build\ncd .output\nfunc start\n```\n\nYou can now visit \u003Chttp:\u002F\u002Flocalhost:7071\u002F\u003E in your browser and browse your site running locally on Azure Functions.\n\n### Deploy from your local machine\n\nTo deploy, just run the following command:\n\n```bash\n# To publish the bundled zip file\naz functionapp deployment source config-zip -g \u003Cresource-group\u003E -n \u003Capp-name\u003E --src dist\u002Fdeploy.zip\n# Alternatively you can publish from source\ncd dist && func azure functionapp publish --javascript \u003Capp-name\u003E\n```\n\n### Deploy from CI\u002FCD via GitHub Actions\n\nFirst, obtain your Azure Functions Publish Profile and add it as a secret to your GitHub repository settings following [these instructions](https:\u002F\u002Fgithub.com\u002FAzure\u002Ffunctions-action#using-publish-profile-as-deployment-credential-recommended).\n\nThen create the following file as a workflow:\n\n```yml{}[.github\u002Fworkflows\u002Fazure.yml]\nname: azure\non:\n  push:\n    branches:\n      - main\n  pull_request:\n    branches:\n      - main\njobs:\n  deploy:\n    runs-on: ${{ matrix.os }}\n    strategy:\n      matrix:\n        os: [ ubuntu-latest ]\n        node: [ 14 ]\n    steps:\n      - uses: actions\u002Fsetup-node@v2\n        with:\n          node-version: ${{ matrix.node }}\n\n      - name: Checkout\n        uses: actions\u002Fcheckout@master\n\n      - name: Get yarn cache directory path\n        id: yarn-cache-dir-path\n        run: echo \"::set-output name=dir::$(yarn cache dir)\"\n\n      - uses: actions\u002Fcache@v2\n        id: yarn-cache\n        with:\n          path: ${{ steps.yarn-cache-dir-path.outputs.dir }}\n          key: ${{ runner.os }}-yarn-${{ hashFiles('**\u002Fyarn.lock') }}\n          restore-keys: |\n            ${{ runner.os }}-yarn-azure\n\n      - name: Install Dependencies\n        if: steps.cache.outputs.cache-hit != 'true'\n        run: yarn\n\n      - name: Build\n        run: npm run build\n        env:\n          NITRO_PRESET: azure_functions\n\n      - name: 'Deploy to Azure Functions'\n        uses: Azure\u002Ffunctions-action@v1\n        with:\n          app-name: \u003Cyour-app-name\u003E\n          package: .output\u002Fdeploy.zip\n          publish-profile: ${{ secrets.AZURE_FUNCTIONAPP_PUBLISH_PROFILE }}\n```\n\n### Optimizing Azure Functions\n\nConsider [turning on immutable packages](https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Fazure\u002Fapp-service\u002Fdeploy-run-package) to support running your app from the zip file. This can speed up cold starts.\n\n### Demo\n\nA live demo is available on \u003Chttps:\u002F\u002Fnuxt-nitro.azurewebsites.net\u002F\u003E\n\n## Azure Static Web Apps\n\n::alert{type=warning icon=ðŸš§}\nAzure Static Web Apps currently defaults to a Node.js 12.x runtime, which means it is not currently compatible with Nuxt Nitro. For now, you can deploy via [Azure Functions](#azure-functions) instead.\n::\n\nHow to deploy Nuxt to Azure Static Web Apps with Nuxt Nitro.\n\n::list\n\n- Support for serverless SSR build\n- Auto-detected when deploying\n- Minimal configuration required\n::\n\n### Setup\n\nAzure Static Web Apps are designed to be deployed continuously in a [GitHub Actions workflow](https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Fazure\u002Fstatic-web-apps\u002Fgithub-actions-workflow). By default, Nitro will detect this deployment environment and enable the `azure` preset.\n\n### Local preview\n\nYou can invoke a development environment to preview before deploying.\n\n```bash\nNITRO_PRESET=azure yarn build\nnpx @azure\u002Fstatic-web-apps-cli start .output\u002Fpublic --api-location .output\u002Fserver\n```\n\n### Deploy from CI\u002FCD via GitHub Actions\n\nWhen you link your GitHub repository to Azure Static Web Apps, a workflow file is added to the repository.\n\nWhen you are asked to select your framework, select custom and provide the following information:\n\n| Input | Value |\n| --- | --- |\n| **app_location** | '\u002F' |\n| **api_location** | '.output\u002Fserver' |\n| **output_location** | '.output\u002Fpublic' |\n\nIf you miss this step, you can always find the build configuration section in your workflow and update the build configuration:\n\n```yml{}[.github\u002Fworkflows\u002Fazure-static-web-apps-\u003CRANDOM_NAME\u003E.yml]\n###### Repository\u002FBuild Configurations ######\napp_location: '\u002F'\napi_location: '.output\u002Fserver'\noutput_location: '.output\u002Fpublic'\n###### End of Repository\u002FBuild Configurations ######\n```\n\n#### Note\n\nPending an update in the [Azure Static Web Apps workflow](https:\u002F\u002Fgithub.com\u002FAzure\u002Fstatic-web-apps-deploy), you will also need to run the following in your root directory:\n\n```bash\nmkdir -p .output\u002Fserver\ntouch .output\u002Fserver\u002F.gitkeep\ngit add -f .output\u002Fserver\u002F.gitkeep\n```\n\nThat's it! Now Azure Static Web Apps will automatically deploy your Nitro-powered Nuxt application on push.\n",ast:{type:"root",children:[{type:b,tag:"prose-h1",props:{class:"d-heading-title",id:U},children:[{type:a,value:ag}]},{type:a,value:f},{type:b,tag:m,props:{class:"d-heading-description"},children:[{type:a,value:ah}]},{type:a,value:f},{type:b,tag:aj,props:{id:ak},children:[{type:b,tag:l,props:{href:al},children:[{type:a,value:V}]}]},{type:a,value:f},{type:b,tag:am,props:{},children:[{type:b,tag:an,props:{},children:[{type:a,value:f},{type:b,tag:C,props:{},children:[{type:a,value:f},{type:a,value:ao},{type:a,value:f}]},{type:a,value:f},{type:b,tag:C,props:{},children:[{type:a,value:f},{type:a,value:"No configuration required"},{type:a,value:f}]},{type:a,value:f},{type:b,tag:C,props:{},children:[{type:a,value:f},{type:a,value:"Static assets served from Azure Function"},{type:a,value:f}]},{type:a,value:f}]}]},{type:a,value:f},{type:b,tag:q,props:{id:ap},children:[{type:b,tag:l,props:{href:"#setup"},children:[{type:a,value:K}]}]},{type:a,value:f},{type:b,tag:w,props:{},children:[{type:b,tag:c,props:{className:[W]},children:[{type:a,value:"nuxt.config.js|ts"}]},{type:b,tag:x,props:{className:[y,"language-ts"]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:"export"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:"default"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n  nitro"},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n    preset"},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,D]},children:[{type:a,value:"'azure_functions'"}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:ar,props:{},children:[{type:b,tag:m,props:{},children:[{type:a,value:"If you encounter any issues, please ensure you're using a Node.js 14+ runtime. You can find more information about "},{type:b,tag:l,props:{href:"https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Fazure\u002Fazure-functions\u002Ffunctions-reference-node?tabs=v2#setting-the-node-version",rel:[s,t,u],target:v},children:[{type:a,value:"how to set the Node version in the Azure docs"}]},{type:a,value:as}]}]},{type:a,value:f},{type:b,tag:q,props:{id:at},children:[{type:b,tag:l,props:{href:"#local-preview"},children:[{type:a,value:L}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Install "},{type:b,tag:l,props:{href:"https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Fazure\u002Fazure-functions\u002Ffunctions-run-local",rel:[s,t,u],target:v},children:[{type:a,value:"Azure Functions Core Tools"}]},{type:a,value:" if you want to test locally."}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"You can invoke a development environment from the serverless directory."}]},{type:a,value:f},{type:b,tag:w,props:{},children:[{type:b,tag:x,props:{className:[y,M]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,au,av]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:aw}]},{type:a,value:"azure_functions "},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:Z}]},{type:a,value:" build\n"},{type:b,tag:c,props:{className:[d,_,$]},children:[{type:a,value:ax}]},{type:a,value:" .output\nfunc start\n"}]}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"You can now visit "},{type:b,tag:l,props:{href:ay,rel:[s,t,u],target:v},children:[{type:a,value:ay}]},{type:a,value:" in your browser and browse your site running locally on Azure Functions."}]},{type:a,value:f},{type:b,tag:q,props:{id:az},children:[{type:b,tag:l,props:{href:"#deploy-from-your-local-machine"},children:[{type:a,value:aA}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"To deploy, just run the following command:"}]},{type:a,value:f},{type:b,tag:w,props:{},children:[{type:b,tag:x,props:{className:[y,M]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"# To publish the bundled zip file"}]},{type:a,value:"\naz functionapp deployment "},{type:b,tag:c,props:{className:[d,_,$]},children:[{type:a,value:"source"}]},{type:a,value:" config-zip -g "},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:aa}]},{type:a,value:"resource-group"},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:O}]},{type:a,value:" -n "},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:aa}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:O}]},{type:a,value:" --src dist\u002Fdeploy.zip\n"},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"# Alternatively you can publish from source"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,_,$]},children:[{type:a,value:ax}]},{type:a,value:" dist "},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"&&"}]},{type:a,value:" func azure functionapp publish --javascript "},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:aa}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:O}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:q,props:{id:aB},children:[{type:b,tag:l,props:{href:"#deploy-from-cicd-via-github-actions"},children:[{type:a,value:P}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"First, obtain your Azure Functions Publish Profile and add it as a secret to your GitHub repository settings following "},{type:b,tag:l,props:{href:"https:\u002F\u002Fgithub.com\u002FAzure\u002Ffunctions-action#using-publish-profile-as-deployment-credential-recommended",rel:[s,t,u],target:v},children:[{type:a,value:"these instructions"}]},{type:a,value:as}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Then create the following file as a workflow:"}]},{type:a,value:f},{type:b,tag:w,props:{},children:[{type:b,tag:c,props:{className:[W]},children:[{type:a,value:".github\u002Fworkflows\u002Fazure.yml"}]},{type:b,tag:x,props:{className:[y,aC]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" azure\n"},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"on"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"push"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" main\n  "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"pull_request"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:" main\n"},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"jobs"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"deploy"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"runs-on"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:" matrix.os "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"strategy"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"matrix"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"os"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aE}]},{type:a,value:" ubuntu"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"latest "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aF}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"node"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aE}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,"number"]},children:[{type:a,value:"14"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aF}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"steps"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" actions\u002Fsetup"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"node@v2\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"node-version"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:" matrix.node "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" Checkout\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" actions\u002Fcheckout@master\n\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" Get yarn cache directory path\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"path\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" echo \""},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"set"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"output name=dir"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"$(yarn cache dir)\"\n\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" actions\u002Fcache@v2\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"cache\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"path"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:" steps.yarn"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"path.outputs.dir "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:" runner.os "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"$"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:" hashFiles('"},{type:b,tag:c,props:{className:[d,"important"]},children:[{type:a,value:"**\u002Fyarn.lock')"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"restore-keys"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:"|"}]},{type:b,tag:c,props:{className:[d,"scalar",D]},children:[{type:a,value:"\n            ${{ runner.os }}-yarn-azure"}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" Install Dependencies\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"if"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" steps.cache.outputs.cache"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"hit "},{type:b,tag:c,props:{className:[d,"tag"]},children:[{type:a,value:"!="}]},{type:a,value:" 'true'\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" yarn\n\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" Build\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" npm run build\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"env"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" azure_functions\n\n      "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,D]},children:[{type:a,value:"'Deploy to Azure Functions'"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:R}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" Azure\u002Ffunctions"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"action@v1\n        "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" \u003Cyour"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"app"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:O}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"package"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" .output\u002Fdeploy.zip\n          "},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"publish-profile"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:" secrets.AZURE_FUNCTIONAPP_PUBLISH_PROFILE "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:q,props:{id:aL},children:[{type:b,tag:l,props:{href:"#optimizing-azure-functions"},children:[{type:a,value:aM}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Consider "},{type:b,tag:l,props:{href:"https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Fazure\u002Fapp-service\u002Fdeploy-run-package",rel:[s,t,u],target:v},children:[{type:a,value:"turning on immutable packages"}]},{type:a,value:" to support running your app from the zip file. This can speed up cold starts."}]},{type:a,value:f},{type:b,tag:q,props:{id:aN},children:[{type:b,tag:l,props:{href:"#demo"},children:[{type:a,value:aO}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"A live demo is available on "},{type:b,tag:l,props:{href:aP,rel:[s,t,u],target:v},children:[{type:a,value:aP}]}]},{type:a,value:f},{type:b,tag:aj,props:{id:aQ},children:[{type:b,tag:l,props:{href:"#azure-static-web-apps"},children:[{type:a,value:aR}]}]},{type:a,value:f},{type:b,tag:ar,props:{icon:"ðŸš§",type:"warning"},children:[{type:b,tag:m,props:{},children:[{type:a,value:"Azure Static Web Apps currently defaults to a Node.js 12.x runtime, which means it is not currently compatible with Nuxt Nitro. For now, you can deploy via "},{type:b,tag:l,props:{href:al},children:[{type:a,value:V}]},{type:a,value:" instead."}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"How to deploy Nuxt to Azure Static Web Apps with Nuxt Nitro."}]},{type:a,value:f},{type:b,tag:am,props:{},children:[{type:b,tag:an,props:{},children:[{type:a,value:f},{type:b,tag:C,props:{},children:[{type:a,value:f},{type:a,value:ao},{type:a,value:f}]},{type:a,value:f},{type:b,tag:C,props:{},children:[{type:a,value:f},{type:a,value:"Auto-detected when deploying"},{type:a,value:f}]},{type:a,value:f},{type:b,tag:C,props:{},children:[{type:a,value:f},{type:a,value:"Minimal configuration required"},{type:a,value:f}]},{type:a,value:f}]}]},{type:a,value:f},{type:b,tag:q,props:{id:aS},children:[{type:b,tag:l,props:{href:"#setup-1"},children:[{type:a,value:K}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Azure Static Web Apps are designed to be deployed continuously in a "},{type:b,tag:l,props:{href:"https:\u002F\u002Fdocs.microsoft.com\u002Fen-us\u002Fazure\u002Fstatic-web-apps\u002Fgithub-actions-workflow",rel:[s,t,u],target:v},children:[{type:a,value:"GitHub Actions workflow"}]},{type:a,value:". By default, Nitro will detect this deployment environment and enable the "},{type:b,tag:"prose-code-inline",props:{},children:[{type:a,value:U}]},{type:a,value:" preset."}]},{type:a,value:f},{type:b,tag:q,props:{id:aT},children:[{type:b,tag:l,props:{href:"#local-preview-1"},children:[{type:a,value:L}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"You can invoke a development environment to preview before deploying."}]},{type:a,value:f},{type:b,tag:w,props:{},children:[{type:b,tag:x,props:{className:[y,M]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,au,av]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:aw}]},{type:a,value:"azure "},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:Z}]},{type:a,value:" build\nnpx @azure\u002Fstatic-web-apps-cli start .output\u002Fpublic --api-location .output\u002Fserver\n"}]}]}]},{type:a,value:f},{type:b,tag:q,props:{id:aU},children:[{type:b,tag:l,props:{href:"#deploy-from-cicd-via-github-actions-1"},children:[{type:a,value:P}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"When you link your GitHub repository to Azure Static Web Apps, a workflow file is added to the repository."}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"When you are asked to select your framework, select custom and provide the following information:"}]},{type:a,value:f},{type:b,tag:"prose-table",props:{},children:[{type:a,value:f},{type:b,tag:"prose-thead",props:{},children:[{type:a,value:f},{type:b,tag:S,props:{},children:[{type:a,value:f},{type:b,tag:aV,props:{},children:[{type:a,value:"Input"}]},{type:a,value:f},{type:b,tag:aV,props:{},children:[{type:a,value:"Value"}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:"prose-tbody",props:{},children:[{type:a,value:f},{type:b,tag:S,props:{},children:[{type:a,value:f},{type:b,tag:F,props:{},children:[{type:b,tag:af,props:{},children:[{type:a,value:aW}]}]},{type:a,value:f},{type:b,tag:F,props:{},children:[{type:a,value:aX}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:S,props:{},children:[{type:a,value:f},{type:b,tag:F,props:{},children:[{type:b,tag:af,props:{},children:[{type:a,value:aY}]}]},{type:a,value:f},{type:b,tag:F,props:{},children:[{type:a,value:aZ}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:S,props:{},children:[{type:a,value:f},{type:b,tag:F,props:{},children:[{type:b,tag:af,props:{},children:[{type:a,value:a_}]}]},{type:a,value:f},{type:b,tag:F,props:{},children:[{type:a,value:a$}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"If you miss this step, you can always find the build configuration section in your workflow and update the build configuration:"}]},{type:a,value:f},{type:b,tag:w,props:{},children:[{type:b,tag:c,props:{className:[W]},children:[{type:a,value:".github\u002Fworkflows\u002Fazure-static-web-apps-\u003CRANDOM_NAME\u003E.yml"}]},{type:b,tag:x,props:{className:[y,aC]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"###### Repository\u002FBuild Configurations ######"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,D]},children:[{type:a,value:aX}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,D]},children:[{type:a,value:aZ}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:a_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,D]},children:[{type:a,value:a$}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"###### End of Repository\u002FBuild Configurations ######"}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:"prose-h4",props:{id:"note"},children:[{type:b,tag:l,props:{href:"#note"},children:[{type:a,value:"Note"}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Pending an update in the "},{type:b,tag:l,props:{href:"https:\u002F\u002Fgithub.com\u002FAzure\u002Fstatic-web-apps-deploy",rel:[s,t,u],target:v},children:[{type:a,value:"Azure Static Web Apps workflow"}]},{type:a,value:", you will also need to run the following in your root directory:"}]},{type:a,value:f},{type:b,tag:w,props:{},children:[{type:b,tag:x,props:{className:[y,M]},children:[{type:b,tag:z,props:{},children:[{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"mkdir"}]},{type:a,value:" -p .output\u002Fserver\n"},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"touch"}]},{type:a,value:" .output\u002Fserver\u002F.gitkeep\n"},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"git"}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"add"}]},{type:a,value:" -f .output\u002Fserver\u002F.gitkeep\n"}]}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"That's it! Now Azure Static Web Apps will automatically deploy your Nitro-powered Nuxt application on push."}]}]},toc:{title:ba,searchDepth:T,depth:T,links:[{id:ak,depth:T,text:V,children:[{id:ap,depth:r,text:K},{id:at,depth:r,text:L},{id:az,depth:r,text:aA},{id:aB,depth:r,text:P},{id:aL,depth:r,text:aM},{id:aN,depth:r,text:aO}]},{id:aQ,depth:T,text:aR,children:[{id:aS,depth:r,text:K},{id:aT,depth:r,text:L},{id:aU,depth:r,text:P}]}]}},template:bb},templateOptions:{header:J,footer:J,aside:J,asideClass:ba,fluid:I,banner:I},_img:{}}],fetch:{"0":{headerLinks:[{title:"Getting Started",to:"\u002Fgetting-started\u002Fintroduction"},{title:"Concepts",to:"\u002Fconcepts\u002Fintroduction"},{title:bb,to:"\u002Fdocs\u002Fusage\u002Fdata-fetching"},{title:"Community",to:"\u002Fcommunity\u002Fgetting-help"}]},"1":{repoUrl:"https:\u002F\u002Fgithub.com\u002Fnuxt\u002Fframework",prev:{slug:"tsconfig",to:"\u002Fdocs\u002Fdirectory-structure\u002Ftsconfig",title:"tsconfig.json"},next:{slug:"cloudflare",to:"\u002Fdocs\u002Fdeployment\u002Fcloudflare",title:"Cloudflare Workers"}},_lazyComponents:new Set(["ProseParagraph","ButtonLink","HomeHero","SectionContentItem","HomeFeatures","IconNuxtNitro","Headline","ProseStrong","ProseA","ProseCodeInline","NuxtContainer","IconNuxtBridge","ProseH3","ProseLi","ProseUl","List","ProseH1","ProseH2","Alert","ProseTh","ProseTr","ProseThead","ProseTd","ProseTbody","ProseTable","ProseEm","ProseCode","CodeGroup","ProseOl","ProseBlockquote","ProseH4"])},mutations:ai}}("text","element","span","token","punctuation","\n",":","key","atrule","-"," ","prose-a","prose-paragraph","{","}","operator","prose-h3",3,"nofollow","noopener","noreferrer","_blank","prose-code","pre","line-numbers","code","name","\n          ","prose-li","string","function","prose-td","\n    "," $",false,true,"Setup","Local preview","language-bash","comment","\u003E","Deploy from CI\u002FCD via GitHub Actions","\n      ","uses","prose-tr",2,"azure","Azure Functions","filename","\n  ","NITRO_PRESET","yarn","builtin","class-name","\u003C","app-name","\n        ","with","run","prose-strong","Azure","How to deploy Nuxt to Azure Static Web Apps or Azure Functions.",void 0,"prose-h2","azure-functions","#azure-functions","list","prose-ul","Support for serverless SSR build","setup","keyword","alert",".","local-preview","assign-left","variable","=","cd","http:\u002F\u002Flocalhost:7071\u002F","deploy-from-your-local-machine","Deploy from your local machine","deploy-from-cicd-via-github-actions","language-yml","branches","[","]","\n\n      ","id"," yarn","cache","dir","optimizing-azure-functions","Optimizing Azure Functions","demo","Demo","https:\u002F\u002Fnuxt-nitro.azurewebsites.net\u002F","azure-static-web-apps","Azure Static Web Apps","setup-1","local-preview-1","deploy-from-cicd-via-github-actions-1","prose-th","app_location","'\u002F'","api_location","'.output\u002Fserver'","output_location","'.output\u002Fpublic'","","Docs")));