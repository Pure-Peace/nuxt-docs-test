__NUXT_JSONP__("/docs/deployment/presets/node", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an){return {data:[{page:{key:"content:3.docs:3.deployment:99.presets:node.md",generatedAt:new Date(1642067220274),mtime:new Date(1642067220270),slug:"node",title:N,position:"000300030099",to:"\u002Fdocs\u002Fdeployment\u002Fpresets\u002Fnode",draft:r,page:s,language:"en",empty:r,description:O,excerpt:P,body:{raw:"# Node.js function\n\nDiscover the Node.js function preset with Nitro to attach Nuxt as a middleware to any Node.js server.\n\n::list\n\n- Compatible with many Node.js servers\n- Drop-in usage with express or native HTTP server\n- Loads only the chunks required to render the request for optimal cold start timing\n::\n\n::alert{icon=IconPresets}\nBack to [presets list](\u002Fdocs\u002Fdeployment\u002Fpresets).\n::\n\n## Usage\n\nYou can use the [Nuxt config](\u002Fdocs\u002Fdirectory-structure\u002Fnuxt.config) to explicitly set the preset to use:\n\n```js [nuxt.config.js|ts]\nexport default {\n  nitro: {\n    preset: 'node'\n  }\n}\n```\n\nOr directly use the `NITRO_PRESET` environment variable when running `nuxt build`:\n\n```bash\nNITRO_PRESET=node npx nuxt build\n```\n\n## Entry point\n\nWhen running `nuxt build` with the Node preset, the result will be an entry point exporting a function with the familiar `(req, res) =\u003E {}` signature used in [express](https:\u002F\u002Fexpressjs.com\u002F), [h3](https:\u002F\u002Fgithub.com\u002Funjs\u002Fh3), etc.\n\n::alert{type=warning}\nIt is not recommended to use this preset directly, and particularly not with a 3rd-party server.\n::\n\n## Example\n\n### Express middleware\n\n```js\nimport express from 'express'\nimport handler from '.\u002F.output\u002Fserver'\n\nconst app = express()\n\napp.use(handler)\napp.listen(3000)\n```\n\n### Node server\n\n```js\nimport { createServer } from 'http'\nimport handler from '.\u002F.output\u002Fserver'\n\nconst server = createServer(handler)\nserver.listen(8080)\n```\n",ast:{type:"root",children:[{type:b,tag:"prose-h1",props:{class:"d-heading-title",id:"nodejs-function"},children:[{type:a,value:N}]},{type:a,value:e},{type:b,tag:k,props:{class:"d-heading-description"},children:[{type:a,value:O}]},{type:a,value:e},{type:b,tag:"list",props:{},children:[{type:b,tag:"prose-ul",props:{},children:[{type:a,value:e},{type:b,tag:D,props:{},children:[{type:a,value:e},{type:a,value:"Compatible with many Node.js servers"},{type:a,value:e}]},{type:a,value:e},{type:b,tag:D,props:{},children:[{type:a,value:e},{type:a,value:"Drop-in usage with express or native HTTP server"},{type:a,value:e}]},{type:a,value:e},{type:b,tag:D,props:{},children:[{type:a,value:e},{type:a,value:"Loads only the chunks required to render the request for optimal cold start timing"},{type:a,value:e}]},{type:a,value:e}]}]},{type:a,value:e},{type:b,tag:Q,props:{icon:"IconPresets"},children:[{type:b,tag:k,props:{},children:[{type:a,value:"Back to "},{type:b,tag:j,props:{href:"\u002Fdocs\u002Fdeployment\u002Fpresets"},children:[{type:a,value:"presets list"}]},{type:a,value:t}]}]},{type:a,value:e},{type:b,tag:E,props:{id:R},children:[{type:b,tag:j,props:{href:"#usage"},children:[{type:a,value:S}]}]},{type:a,value:e},{type:b,tag:k,props:{},children:[{type:a,value:"You can use the "},{type:b,tag:j,props:{href:"\u002Fdocs\u002Fdirectory-structure\u002Fnuxt.config"},children:[{type:a,value:"Nuxt config"}]},{type:a,value:" to explicitly set the preset to use:"}]},{type:a,value:e},{type:b,tag:u,props:{},children:[{type:b,tag:c,props:{className:["filename"]},children:[{type:a,value:"nuxt.config.js|ts"}]},{type:b,tag:v,props:{className:[w,F]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"export"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:"default"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:G}]},{type:a,value:"\n  nitro"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:H}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:G}]},{type:a,value:"\n    preset"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:H}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'node'"}]},{type:a,value:"\n  "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:I}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:I}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:k,props:{},children:[{type:a,value:"Or directly use the "},{type:b,tag:y,props:{},children:[{type:a,value:T}]},{type:a,value:" environment variable when running "},{type:b,tag:y,props:{},children:[{type:a,value:U}]},{type:a,value:H}]},{type:a,value:e},{type:b,tag:u,props:{},children:[{type:b,tag:v,props:{className:[w,"language-bash"]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,"assign-left","variable"]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:J}]},{type:a,value:"node npx nuxt build\n"}]}]}]},{type:a,value:e},{type:b,tag:E,props:{id:V},children:[{type:b,tag:j,props:{href:"#entry-point"},children:[{type:a,value:W}]}]},{type:a,value:e},{type:b,tag:k,props:{},children:[{type:a,value:"When running "},{type:b,tag:y,props:{},children:[{type:a,value:U}]},{type:a,value:" with the Node preset, the result will be an entry point exporting a function with the familiar "},{type:b,tag:y,props:{},children:[{type:a,value:"(req, res) =\u003E {}"}]},{type:a,value:" signature used in "},{type:b,tag:j,props:{href:"https:\u002F\u002Fexpressjs.com\u002F",rel:[X,Y,Z],target:_},children:[{type:a,value:K}]},{type:a,value:", "},{type:b,tag:j,props:{href:"https:\u002F\u002Fgithub.com\u002Funjs\u002Fh3",rel:[X,Y,Z],target:_},children:[{type:a,value:"h3"}]},{type:a,value:", etc."}]},{type:a,value:e},{type:b,tag:Q,props:{type:"warning"},children:[{type:b,tag:k,props:{},children:[{type:a,value:"It is not recommended to use this preset directly, and particularly not with a 3rd-party server."}]}]},{type:a,value:e},{type:b,tag:E,props:{id:$},children:[{type:b,tag:j,props:{href:"#example"},children:[{type:a,value:aa}]}]},{type:a,value:e},{type:b,tag:ab,props:{id:ac},children:[{type:b,tag:j,props:{href:"#express-middleware"},children:[{type:a,value:ad}]}]},{type:a,value:e},{type:b,tag:u,props:{},children:[{type:b,tag:v,props:{className:[w,F]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:K}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:B}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'express'"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:C}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:B}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ae}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ag}]},{type:a,value:" app "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:K}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:"\n\napp"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,L,n,M]},children:[{type:a,value:"use"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:o}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:"\napp"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,L,n,M]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,ai]},children:[{type:a,value:"3000"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:ab,props:{id:aj},children:[{type:b,tag:j,props:{href:"#node-server"},children:[{type:a,value:ak}]}]},{type:a,value:e},{type:b,tag:u,props:{},children:[{type:b,tag:v,props:{className:[w,F]},children:[{type:b,tag:x,props:{},children:[{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,A]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:G}]},{type:a,value:" createServer "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:I}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:B}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"'http'"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:z}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:C}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h,i]},children:[{type:a,value:B}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ae}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ag}]},{type:a,value:" server "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:J}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"createServer"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:o}]},{type:a,value:C},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:"\nserver"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,L,n,M]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,ai]},children:[{type:a,value:"8080"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:e}]}]}]}]},toc:{title:al,searchDepth:q,depth:q,links:[{id:R,depth:q,text:S},{id:V,depth:q,text:W},{id:$,depth:q,text:aa,children:[{id:ac,depth:am,text:ad},{id:aj,depth:am,text:ak}]}]}},template:an},templateOptions:{header:s,footer:s,aside:s,asideClass:al,fluid:r,banner:r},_img:{}}],fetch:{"0":{headerLinks:[{title:"Getting Started",to:"\u002Fgetting-started\u002Fintroduction"},{title:"Concepts",to:"\u002Fconcepts\u002Fintroduction"},{title:an,to:"\u002Fdocs\u002Fusage\u002Fdata-fetching"},{title:"Community",to:"\u002Fcommunity\u002Fgetting-help"}]},"1":{repoUrl:"https:\u002F\u002Fgithub.com\u002Fnuxt\u002Fframework",prev:{slug:"lambda",to:"\u002Fdocs\u002Fdeployment\u002Fpresets\u002Flambda",title:"Lambda function"},next:{slug:"server",to:"\u002Fdocs\u002Fdeployment\u002Fpresets\u002Fserver",title:"Node.js server"}},_lazyComponents:new Set(["ProseParagraph","ButtonLink","HomeHero","SectionContentItem","HomeFeatures","IconNuxtNitro","Headline","ProseStrong","ProseA","ProseCodeInline","NuxtContainer","IconNuxtBridge","ProseH3","ProseLi","ProseUl","List","ProseH1","ProseH2","Alert","ProseTh","ProseTr","ProseThead","ProseTd","ProseTbody","ProseTable","ProseEm","ProseCode","CodeGroup","ProseOl","ProseBlockquote","ProseH4"])},mutations:P}}("text","element","span","token","\n","punctuation"," ","keyword","module","prose-a","prose-paragraph","operator","string","function","(",")",2,false,true,".","prose-code","pre","line-numbers","code","prose-code-inline","import","imports","from","handler","prose-li","prose-h2","language-js","{",":","}","=","express","method","property-access","Node.js function","Discover the Node.js function preset with Nitro to attach Nuxt as a middleware to any Node.js server.",void 0,"alert","usage","Usage","NITRO_PRESET","nuxt build","entry-point","Entry point","nofollow","noopener","noreferrer","_blank","example","Example","prose-h3","express-middleware","Express middleware","'.\u002F.output\u002Fserver'","\n\n","const","listen","number","node-server","Node server","",3,"Docs")));